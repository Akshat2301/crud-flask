<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Dashboard</title>
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto|Varela+Round'>
<link rel='stylesheet' href='https://fonts.googleapis.com/icon?family=Material+Icons'>
<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'>
<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>
<link href="{{url_for('static', filename='css/style.css')}}" rel="stylesheet">
<!-- <link href="{{url_for('static', filename='css/register.css')}}" rel="stylesheet"> -->
    <script src="{{url_for('static', filename='js/validation.js')}}"></script>

</head>
<body>
<!-- partial:index.partial.html -->
<div class="container">
  <div class="table-wrapper">
    <div class="table-title">
      <form method="post" action="/dashboard" >
      <div class="row">
        <div class="col-md-3">
          <h2>Manage <b>Employees</b></h2>
        </div>
        <div class="form-group col-md-9">
          <div class="col col-md-6">
            
          <input type="text" name="tag" id="tag" class="form-control" placeholder="Enter Keyword">

          </div>
          <div class="col col-md-6">
            
          <a href="{{url_for('admin.logout')}}" class="btn btn-danger"><i class="material-icons">logout</i> <span>Logout</span></a>
          <a href="#addEmployeeModal" class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE147;</i> <span>Add New Employee</span></a>

          <input type="submit" value="Search" name="Search" class="btn btn-primary" style="height: 33px;">
          </div>
          
        </div>
      </div>
      </form>
    </div>
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Address</th>
          <th>Phone</th>
          <th>Date-Of-Birth</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {%for emp in emps.items%}
        <tr>
          <td>{{emp.firstName}} {{emp.lastName}}</td>
          <td>{{emp.email}}</td>
          <td>{{emp.address}}</td>
          <td>{{emp.phone}}</td>
          <td>{{emp.dob}}</td>
          <td>
            <a href="{{ url_for('users.edit',sno = emp.id, flag = 1) }}"><i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254;</i></a>
            <a href="{{ url_for('admin.delete',sno = emp.id) }}"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <div class="text-right">
    <a href="{{ url_for('admin.admin_login', page=emps.prev_num) }}"
       class="btn btn-outline-dark 
       {% if emps.page == 1 %}disabled{% endif %}">
        &laquo;
    </a>
    <!-- Loop through the number of pages to display a link for each-->
    
    <a href="{{ url_for('admin.admin_login', page=emps.next_num) }}"
       class="btn btn-outline-dark 
       {% if emps.page == emps.pages %}disabled{% endif %}">
        &raquo;
    </a>
</div>
<p class="text-right mt-3">
   Showing page {{ emps.page }} of {{ emps.pages }}
</p>
  </div>
</div>
<!-- add Modal HTML -->
<div id="addEmployeeModal" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <form action="{{url_for('admin.add_employee')}}" method="post">
        <div class="modal-header">
          <h4 class="modal-title">Add Employee</h4>
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        </div>
        <div class="modal-body">
          {{ form.hidden_tag() }}
          <div class="form-group">
              {{ form.firstName.label(class="form-control-label") }}

              {% if form.firstName.errors %}
                  {{ form.firstName(class="form-control form-control-lg is-invalid") }}
                  <div class="invalid-feedback">
                      {% for error in form.firstName.errors %}
                          <span>{{ error }}</span>
                      {% endfor %}
                  </div>
              {% else %}
                  {{ form.firstName(class="form-control form-control-lg") }}
              {% endif %}
          </div>

          <div class="form-group">
              {{ form.lastName.label(class="form-control-label") }}

              {% if form.lastName.errors %}
                  {{ form.lastName(class="form-control form-control-lg is-invalid") }}
                  <div class="invalid-feedback">
                      {% for error in form.lastName.errors %}
                          <span>{{ error }}</span>
                      {% endfor %}
                  </div>
              {% else %}
                  {{ form.lastName(class="form-control form-control-lg") }}
              {% endif %}
          </div>

          <div class="form-group">
              {{ form.email.label(class="form-control-label") }}

              {% if form.email.errors %}
                  {{ form.email(class="form-control form-control-lg is-invalid") }}
                  <div class="invalid-feedback">
                      {% for error in form.email.errors %}
                          <span>{{ error }}</span>
                      {% endfor %}
                  </div>
              {% else %}
                  {{ form.email(class="form-control form-control-lg") }}
              {% endif %}
          </div>

          <div class="form-group">
              {{ form.phone.label(class="form-control-label") }}

              {% if form.phone.errors %}
                  {{ form.phone(class="form-control form-control-lg is-invalid") }}
                  <div class="invalid-feedback">
                      {% for error in form.phone.errors %}
                          <span>{{ error }}</span>
                      {% endfor %}
                  </div>
              {% else %}
                  {{ form.phone(class="form-control form-control-lg") }}
              {% endif %}
          </div>

          <div class="form-group">
              {{ form.dob.label(class="form-control-label") }}

              {% if form.dob.errors %}
                  {{ form.dob(class="form-control form-control-lg is-invalid") }}
                  <div class="invalid-feedback">
                      {% for error in form.dob.errors %}
                          <span>{{ error }}</span>
                      {% endfor %}
                  </div>
              {% else %}
                  {{ form.dob(class="form-control form-control-lg") }}
              {% endif %}
          </div>


          <div class="form-group">
              {{ form.address.label(class="form-control-label") }}

              {% if form.address.errors %}
                  {{ form.address(class="form-control form-control-lg is-invalid") }}
                  <div class="invalid-feedback">
                      {% for error in form.address.errors %}
                          <span>{{ error }}</span>
                      {% endfor %}
                  </div>
              {% else %}
                  {{ form.address(class="form-control form-control-lg") }}
              {% endif %}
          </div>

          <div class="form-group">
              {{ form.password.label(class="form-control-label") }}
              {% if form.password.errors %}
                  {{ form.password(class="form-control form-control-lg is-invalid") }}
                  <div class="invalid-feedback">
                      {% for error in form.password.errors %}
                          <span>{{ error }}</span>
                      {% endfor %}
                  </div>
              {% else %}
                  {{ form.password(class="form-control form-control-lg") }}
              {% endif %}
          </div>

          <div class="form-group">
              {{ form.confirm_password.label(class="form-control-label") }}
              {% if form.confirm_password.errors %}
                  {{ form.confirm_password(class="form-control form-control-lg is-invalid") }}
                  <div class="invalid-feedback">
                      {% for error in form.confirm_password.errors %}
                          <span>{{ error }}</span>
                      {% endfor %}
                  </div>
              {% else %}
                  {{ form.confirm_password(class="form-control form-control-lg") }}
              {% endif %}
          </div>
        </div>
        
        <div class="modal-footer">

          <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
          <input type="submit" class="btn btn-success" value="Add">
        </div>
      </form>
    </div>
  </div>
</div>

<!-- partial -->
  <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js'></script>
<script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js'></script>

</body>
</html>
